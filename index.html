<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>Search list</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>


  <!-- bootstrap -->
    <!-- Material Design for Bootstrap fonts and icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
  <script type="text/javascript" src="lib/d3.v5.min.js"></script>
  <link rel="stylesheet" href="css/search_list_bootstrap_grid.css">
 <link rel="stylesheet" href="css/bootstrap-material-design_custom.min.css">
 <link rel="stylesheet" href="css/custom_css.css">
  

  <link rel="stylesheet" href="css/bootstrap_4/css/bootstrap.css">
  <link rel="stylesheet" href="css/search_list_bootstrap_grid_2.css">
  

  <style type="text/css">
    /*.param1_show_sidebar {

    }*/

  </style>
 
</head>
<body>


<div class="container-fluid">
  <a href="/immo_vis/contact.html">contact</a>
<hr>

<div class="container-fluid"> 

    <div class="bmd-layout-container bmd-drawer-f-l">

      

        <!-- icon hamburger pour gérer le menu latéral -->
        <header class="bmd-layout-header">
        
            <div class="navbar navbar-light bg-faded">
              <div style="display: inline-grid; grid-template-columns: auto auto; grid-gap: 10px ">
                <button id="toggle_sidebar" class="navbar-toggler" type="button" data-toggle="drawer" data-target="#dw-s1" ouvert = "false">
                  <span class="sr-only">Toggle drawer</span>
                  <i class="material-icons" id="sideBar_icon">menu</i>
                </button>
                <h7 id="zone_recherche" style="margin-top: 5px">Zone de recherche</h7>
                <a href="/immo_vis/contact.html">contact</a>
                <button>contact</button>
              </div>
    

            </div>
        
        </header>



        <!-- menu latéral -->
        <div id="dw-s1" class="bmd-layout-drawer bg-faded">

  <!--         <div class="container-fluid">
          
            <div id="" class="row no-gutters">               -->

                  <div id="sidebar" class="col-sm-2.5" style="border: 1px solid #d1d1d1; border-radius: 5px; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2), 0 2px 5px 0 rgba(0, 0, 0, 0.19)"> <!-- background-color: #f76f74; -->
                      <h6 style="color: grey; text-align: center;">Paramètres de la recherche</h6>

                      <div id="accordion">
                        <div class="card"  style="">
                          <div class="card-header" id="headingOne"  style="background-color: #ea454b;">
                              <button class="btn btn-light btn-sm px-3 mx-1" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" style=";">
                                Chercher une commune
                              </button>
                          </div>

                          <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                            <div class="card-body">
                         





                                             <div class="dropdown">

                                               <div class="row">
                                                  <div class="col-sm">          
                                                            <div id="myDropdown" class="dropdown-content">
                                                              <input class="" type="text" placeholder="Search.." id="myInput" onkeyup="filterFunction()">
                                                              <div id="list_villes_ref">

                                                              </div>
                                                            </div>
                                                  </div>
                                                </div>
                                        

                                                 <div class="row mt-4 px-1">
                                                    <div class="col-sm">         
                                                              <p id="alert_max_communes">Communes choisies:</p>
                                                  </div>
                                                </div>


                                                 <div class="row">
                                                    <div class="col-sm">          
                                                            <div id="container_villes_selected" style="">
                                                              <div id="villes_selected" class="dropdown-content" style="margin-top: 1px;">                                                
                                                              </div>
                                                            </div>
                                                    </div>
                                                  </div>
                                                  

                                                  <div class="row mt-2 px-0">
                                                    <div class="col-sm">
                                                      <button class="btn btn-danger btn-raised btn-sm" style="font-size: 11px" onclick="supprimerVilles()" id="">Vider la liste</button>
                                                    </div>
                                                    <div class="col-sm">
                                                      <button class="btn btn-success btn-raised btn-sm" style="font-size: 11px" onclick="chargerDataDetailleesCommunes()" id="">Charger</button>
                                                    </div>
                                                  </div>


                                                  <div class="row">
                                                    <div class="col-12">
                                                                  <div id="preloader_data" class="d-flex justify-content-center">
                                                                    <div id="preloader_data1" class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                      <span class="sr-only">Loading...</span>
                                                                    </div>
                                                                  </div>
                                                    </div>
                                                    <div class="col-12">
                                                                  <p id="preloader_data_comment" class="d-flex justify-content-center"></p>
                                                    </div>
                                                  </div>


<!--                                                   <div class="row">
                                                    <div class="col-sm">                     
                                                      <div id="decaler">          
                                                        ...
                                                      </div>
                                                    </div>
                                                  </div> -->



                                             </div>
                            </div>
                          </div>
                        </div>





                        <div class="card">
                          <div class="card-header" id="headingTwo" style="background-color: #ea454b;">

                              <button class="btn btn-light" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo" style="margin-left: 60px;">
                                Filtrer
                              </button>
                          </div>
                          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                            <div class="card-body">



                                  <!-- <div id="sliders_grid" style="display: grid;">                                     -->
                                    <div id="slider1"></div>                                    
                                    <div id="slider2"></div>
                                    <div id="slider3"></div>                                    
                                    <!-- <h7 id="slider1_title" style="justify-self: center; font-weight: 500" >Taux de rendement</h7>
                                  </div> -->



                              
                            </div>
                          </div>
                        
                        </div>                        


                
                      </div>


                  </div>

  <!--               </div>

              </div> -->

            </div>

          


          <!-- contenu principal, à droite du menu latéral -->
          <main class="bmd-layout-content" style="background-color:">

            <div class="container-fluid">


              <!-- ligne contenant les onglet de navigation entre communes et quartiers -->

                  <nav>
                    <div class="nav nav-tabs nav-justified" id="nav-tab" role="tablist" style=";">
                      <a class="nav-item nav-link active" id="nav-communes-tab" data-toggle="tab" href="#nav-communes" role="tab" aria-controls="nav-communes" aria-selected="true">Communes</a>
                      <a class="nav-item nav-link" id="nav-quartiers-tab" data-toggle="tab" href="#nav-quartiers" role="tab" aria-controls="nav-quartiers" aria-selected="false">Quartiers</a>
                      
                    </div>
                  </nav>
                
              </div>


              <!-- STRUCTURE englobant les contenus des onglets horizontaux (communes - quarties ...) -->
              <div class="container-fluid">

                      <div class="tab-content" id="nav-tabContent">




                        <!-- onglet communes -->        
                        <div class="tab-pane fade show active" id="nav-communes" role="tabpanel" aria-labelledby="nav-communes-tab">
                          

                          <div id="container_graphiques1" class="container">
                            <hr>
                            
                            <!-- <div id="r1" class="row"> -->
                              <!-- <div id="r1c1" class="col-1" style="height: 800px"> -->
                                
                                <div class="row">
                                  <!-- panneau de navigation latéral (ind immo, éco, sociaux...) -->
                                  <!-- <div class="col" style="height: 800px; max-width: 120px">
                                    <div class="nav flex-column nav-pills nav-justified" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                                      <a class="nav-link active" id="v-pills-Immobilier-tab" data-toggle="pill" href="#v-pills-Immobilier" role="tab" aria-controls="v-pills-Immobilier" aria-selected="true">Immobilier</a>
                                      <a class="nav-link" id="v-pills-Economie-tab" data-toggle="pill" href="#v-pills-Economie" role="tab" aria-controls="v-pills-Economie" aria-selected="false">Economie</a>
                                      <a class="nav-link" id="v-pills-demographie-tab" data-toggle="pill" href="#v-pills-demographie" role="tab" aria-controls="v-pills-demographie" aria-selected="false">Démographie</a>
                                      <a class="nav-link" id="v-pills-societe-tab" data-toggle="pill" href="#v-pills-societe" role="tab" aria-controls="v-pills-societe" aria-selected="false">Societé</a>
                                    </div>
                                  </div> -->
                                  <div class="col" style="">
                                    <div class="tab-content" id="v-pills-tabContent">
                                      
                                      <div class="tab-pane fade show active" id="v-pills-Immobilier" role="tabpanel" aria-labelledby="v-pills-Immobilier-tab">
            
                                        <div class="container-fluid">
                                          <div class="row">
                                            <hr>
                                            <div class="col-5" style="max-height: 720px">  <!-- height="400" -->
                                          
                                              <canvas id="myChart_id1" style="max-height: 200px;"></canvas> <!-- ctx1 -->
                                          
                                              <hr>
                                          
                                              <canvas id="myChart_id2" style="max-height: 200px;"></canvas> <!-- ctx2 -->
                                          
                                              <hr>

                                              <div class="row">
                                                <div class="col-4 .mr-auto">
                                                  <div id="labelGroup1"></div>
                                                </div>
                                                <div class="col-4 .mr-auto">
                                                  <div id="labelGroup2"></div>
                                                </div>
                                                <div class="col-4">
                                                  <div id="labelGroup3"></div>
                                                </div>
                                              </div>

                                            </div>



                                            <div class="col-6" style="max-height: 720px">
                                              
                                              <div class="row" style="height: 320px">                                                
                                                
                                                <div class="col-12">
                                                  <!-- <div style="display: grid;">
                                                    <div style="display: grid;"> <span style="align-self: center; justify-self: center">Annonces selon leur taux de rendement</span> </div> -->
                                                    <div id="map1" style="display: grid; height: 310px"> </div>
                                                  <!-- </div> -->
                                                </div> 
                                              </div>
                                                  <hr style="margin-top: 40px">
                                              <div class="row mt-2" style="height: 340px;">
                                                <div class="col-12">
                                                  <div id="brush1">
                                                    <canvas id="myChart_id3" style="max-height: 320px"></canvas> <!-- ctx3 -->
                                                  </div>
                                                </div>
                                              </div>

                                            </div>

                                            <div class="col-1" id="map1_legends_node">
                                                <svg id="map1_legends_svg" width="140" height="350"></svg>  <!-- -->
                                            </div>

                                          </div>

                                          <div class="row">
                                            <hr>      
                                            <div class="col-12">
                                              
                                            </div>                                  

                                          </div>
                                        
                                        </div>

                                      </div>

                                      
                                    </div>
                                  </div>
                                </div>
                          </div>

                        <!--fermeture onglet communes -->        
                        </div>
                   




                

                        <!-- onglet quartiers -->
                        <div class="tab-pane fade" id="nav-quartiers" role="tabpanel" aria-labelledby="nav-quartiers-tab">

                          <hr>
                          <div id="container_graphiques2" class="container">
                            
                                          <div class="row">
                                            <hr>

                                            <div class="col-5" style="max-height: 720px">  
                                          
                                              
                                                                            
                                                      <div class="row">                                                
                                                        <div class="col-12">
                                                            <canvas id="myChart_id4" style="max-height: 200px;"></canvas> 
                                                        </div> 
                                                      </div>
                                                          <hr>
                                                      <div class="row mt-2">
                                                        <div class="col-12">
                                                          <div id="brush2">
                                                            <canvas id="myChart_id5" style="max-height: 250px;"></canvas>
                                                          </div>
                                                        </div>
                                                      </div>

                                                      <hr>

                                                      <div class="row" style="max-height: 180px">
                                                        <div class="col-12">                                                          
                                                            <canvas id="myChart_id6" style="max-height: 170px;"></canvas>                                                           
                                                        </div>
                                                      </div>

                                            </div>



                                            <div class="col-5" style="max-height: 720px">
                                              

                                              <!-- <div style="display: grid;"> <span style="align-self: center; justify-self: center">Quartiers selon leur taux de rendement</span> </div> -->
                                              <div class="row"> 

                                                  <div class="col-12">
                                                    <div id="map2" style="height: 340px;"> </div>
                                                  </div>                                                
                                              </div>
                                              <hr>
                                              <div class="row" style="max-height: 340px">                                                
                                                <div class="col-12">
                                                  <div id="brush3">
                                                    <canvas id="myChart_id7" style="max-height: 330px"></canvas> 
                                                  </div>
                                                </div>
                                              </div>
                                            </div>

                                            <div class="col-2" id="map2_legends_node">
                                                
                                            </div>

                                          </div>

                                          <div class="row">

                                          </div>

                                           

                          </div>





                        <!-- fermeture onglet quartiers -->
                        </div>


                   
                      

                      <!-- fermeture nav-tabContent -->
                      </div>   
                  
                <!-- fermeture row STRUCTURE englobant les contenus des onglets horizontaux (communes - quarties ...) -->
                </div>            




            <!-- fermeture container sous le bmd-layout-content -->
            </div>
          
          <!-- fermeture du bmd-layout-content -->
          </main>

    <!-- ferme bmd-layout-container -->
    </div>

  <!-- fermeture container -->
  </div>
  
<!-- fermeture 1er container -->
</div>

  
<!-- </div> -->

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script>
    <script>$(document).ready(function() { $('body').bootstrapMaterialDesign(); });</script>


    <script type="text/javascript">
      var element = document.getElementById("toggle_sidebar");
      element.ouvert = "false"
      /*document.getElementById("toggle_sidebar").ouvert = "false"*/
      function toggle_sidebar() {        
        var clickEvent = new MouseEvent("click", {
            "view": window,
            "bubbles": true,
            "cancelable": false
        });

        if (element.ouvert === "false") {
          element.dispatchEvent(clickEvent);
          element.ouvert = "true"
          }

      };


/*      function activate_sidebar() {
          element2 = document.getElementById("dw-s1")
          if (element2) {
              toggle_sidebar()

              console.log("activate_sidebar ok")
          }
          else {
              console.log("attente activate_sidebar")
              setTimeout(toggle_sidebar, 1000)
          }
      };

      setTimeout(activate_sidebar, 100)*/

      element.addEventListener("click", function(evt){                 
        var element = document.getElementById("toggle_sidebar");
        adjust_icon_sideBar(element)
      } )

      function adjust_icon_sideBar(element) {
        if (element.ariaExpanded === "true") {
          document.getElementById('sideBar_icon').innerHTML = 'menu'
          document.getElementById('zone_recherche').innerHTML = 'Zone de recherche'
        }
        else if (element.ariaExpanded === "false") {
          document.getElementById('sideBar_icon').innerHTML = 'chevron_left'
          document.getElementById('zone_recherche').innerHTML = 'Fermer'
        }        
      }

      //change display of lateral bar      
      function adjust_display_lateral_bar() {
        document.querySelector("#accordion > div").style.display = 'contents'
      }
      setInterval(adjust_display_lateral_bar, 3)

      setTimeout(toggle_sidebar, 100)
      setTimeout(toggle_sidebar, 500)
      setTimeout(toggle_sidebar, 1500)
      setTimeout(toggle_sidebar, 3000)
      setTimeout(toggle_sidebar, 4500)
      setTimeout(toggle_sidebar, 6000)
      setTimeout(toggle_sidebar, 8500)
      setTimeout(toggle_sidebar, 9000)
      setTimeout(toggle_sidebar, 10500)




      //get chart nodes        
        var ctx_1 = document.getElementById('myChart_id1');    
        var ctx_2 = document.getElementById('myChart_id2');    
        var ctx_3 = document.getElementById('myChart_id3'); 
        var ctx_4 = document.getElementById('myChart_id4');
        var ctx_5 = document.getElementById('myChart_id5');
        var ctx_6 = document.getElementById('myChart_id6'); 
        var ctx_7 = document.getElementById('myChart_id7');
        var ctx_8 = document.getElementById('myChart_id8');
        var ctx_9 = document.getElementById('myChart_id9');
        var ctx_10 = document.getElementById('myChart_id10');
        var ctx_11 = document.getElementById('myChart_id11');
        var htmlNode1 = document.getElementById('brush1');

      
    </script>

    <script type="text/javascript" src="lib/search_communes.js"></script>

    <!-- leaflet + heatmap JS -->
    <script>L_PREFER_CANVAS = true;</script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>

    <script src="lib/heatmap/build/heatmap.js"></script>
    <script src="lib/heatmap/plugins/leaflet-heatmap/leaflet-heatmap.js"></script>

    <script type="text/javascript" src="lib/leaflet_custom/gestionMap_3.js"></script>
    <script type="text/javascript" src="lib/leaflet_custom/adapt_tailleCercles_zoom.js"></script>
    <script type="text/javascript" src="lib/leaflet_custom/gestionLayer_4.js"></script>
    <script type="text/javascript" src="lib/leaflet_custom/color_teinte_match.js"></script>
    
    <script type="text/javascript" src="lib/generateLegends.js"></script>
      <script type="text/javascript" src="lib/brush/d3_brush.js"></script>
      <script type="text/javascript" src="lib/brush/d3_brush_curveChartJS.js"></script>
      <script type="text/javascript" src="lib/d3-legend.js"></script>
      <link rel="stylesheet" href="css/bootstrap_4/css/bootstrap.css">
        
    <script type="text/javascript" src="lib/stats_functions_v2.js"></script>    
    <script type="text/javascript" src="lib/CrossFilterDataSource.js"></script>
    <script type="text/javascript" src="lib/bin_custom_func_v_0_1.js"></script>
    <script type="text/javascript" src="lib/interpolateColors.js"></script>
    <script type="text/javascript" src="lib/color_generator.js"></script>
    
    <script type="text/javascript" src="lib/lodash.min.js"></script>
    <script type="text/javascript" src="lib/ramda.min.js"></script>
    <script type="text/javascript" src="lib/external_libs/nouislider.min.js"></script>
    <script type="text/javascript" src="lib/external_libs/wNumb.min.js"></script>

    <link rel="stylesheet" href="css/nouislider.min.css">

    <script type="text/javascript" src="lib/func_utiles.js"></script>
    <script type="text/javascript" src="lib/class_sharedParams.js"></script>
    <script type="text/javascript" src="lib/param_customSpec_PieChartsJS_v2.js"></script>
    <script type="text/javascript" src="lib/param_customSpec_BarChartsJS.js"></script>
    <script type="text/javascript" src="lib/param_customSpec_CurveChartsJS.js"></script>
    <script type="text/javascript" src="lib/params_mixed_BarLineChart.js"></script>
    <script type="text/javascript" src="lib/params_scatterChart.js"></script>
    <script type="text/javascript" src="lib/pieChart_class_v2.js"></script>
    <script type="text/javascript" src="lib/simpleBarChart_class.js"></script>    
    <script type="text/javascript" src="lib/grouped_barChart_class_4.js"></script>
    <script type="text/javascript" src="lib/stacked_barChart_class.js"></script>
    <script type="text/javascript" src="lib/curveChart_class.js"></script>
    <script type="text/javascript" src="lib/mixed_BarLineChart_singleScale_class.js"></script>
    <script type="text/javascript" src="lib/mixed_BarLineChart_doubleScale_class.js"></script>
    <script type="text/javascript" src="lib/scatterChart_class.js"></script>
    <script type="text/javascript" src="lib/stateManagement_9.js"></script>
    <script type="text/javascript" src="lib/params_map.js"></script>
    <script type="text/javascript" src="lib/map_class_v2.js"></script>
    <script type="text/javascript" src="lib/map_choroplethe_class_v1.js"></script>
    <script type="text/javascript" src="lib/params_label.js"></script>
    <script type="text/javascript" src="lib/label_class.js"></script>
    <script type="text/javascript" src="lib/labelGroup_class.js"></script>
    <script type="text/javascript" src="lib/decode_fields.js"></script>
    <script type="text/javascript" src="lib/params_Slider.js"></script>
    <script type="text/javascript" src="lib/SliderDoubleRange_class.js"></script>

    <script type="text/javascript" src="lib/setup_graphics.js"></script>



    <!-- <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/6.6.4/math.min.js"></script> -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

    <script>
      /*var slider = document.getElementById('slider1');

      noUiSlider.create(slider, {
          start: [20, 80],
          tooltips: [wNumb({decimals: 1}), true],
          connect: true,
          range: {
              'min': 0,
              'max': 100
          },
          format: wNumb({
                  decimals: 3,
                  thousand: '.',
                  suffix: ' (%)'
              })          
      });    */
    </script>
</body>

</html>
